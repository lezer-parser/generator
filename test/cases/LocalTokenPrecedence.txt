@top T { expr* }

expr {
 String { '"' (stringContent | A | AA | Letter)* stringEnd }
}

@local tokens {
  @precedence { AA, A }

  stringEnd { '"' }
  A { "a" "."? }
  AA { "aa" }
  Y { "y" }
  Z { "z" }
  Letter { Y | Z }
  @else stringContent
}

# precedence in local tokens

"yaaza"

==>

T(String(Letter,AA,Letter,A))

